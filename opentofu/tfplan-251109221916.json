{"format_version":"1.2","terraform_version":"1.10.7","variables":{"floating_ip_pool_name":{"value":"net-external"},"image_name":{"value":"lab-rocky-9"},"key_pair_name":{"value":"k8s-keypair"},"network_name":{"value":"net-infra"}},"planned_values":{"outputs":{"all_nodes_ips":{"sensitive":false},"control_plane_ips":{"sensitive":false},"haproxy_internal_ip":{"sensitive":false},"kube_api_endpoint":{"sensitive":false},"worker_node_ips":{"sensitive":false}},"root_module":{"resources":[{"address":"local_file.private_key_pem","mode":"managed","type":"local_file","name":"private_key_pem","provider_name":"registry.opentofu.org/hashicorp/local","schema_version":0,"values":{"content_base64":null,"directory_permission":"0777","file_permission":"0400","filename":"/root/.ssh/id_ed25519_k8s","sensitive_content":null,"source":null},"sensitive_values":{"content":true,"sensitive_content":true}},{"address":"openstack_compute_floatingip_associate_v2.haproxy_fip_associate","mode":"managed","type":"openstack_compute_floatingip_associate_v2","name":"haproxy_fip_associate","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"fixed_ip":null,"timeouts":null,"wait_until_associated":null},"sensitive_values":{}},{"address":"openstack_compute_instance_v2.control_plane[0]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":0,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control1","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.control_plane[1]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":1,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control2","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.control_plane[2]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":2,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control3","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.haproxy_server","mode":"managed","type":"openstack_compute_instance_v2","name":"haproxy_server","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"774c9136-d522-4466-8097-a907dd4b50a8","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"haproxy","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.worker_node[0]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":0,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker1","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.worker_node[1]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":1,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker2","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.worker_node[2]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":2,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker3","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.worker_node[3]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":3,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker4","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_instance_v2.worker_node[4]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":4,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker5","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"sensitive_values":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}},{"address":"openstack_compute_keypair_v2.k8s_keypair","mode":"managed","type":"openstack_compute_keypair_v2","name":"k8s_keypair","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"name":"k8s-keypair","value_specs":null},"sensitive_values":{}},{"address":"openstack_networking_floatingip_v2.haproxy_fip","mode":"managed","type":"openstack_networking_floatingip_v2","name":"haproxy_fip","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":null,"pool":"net-external","subnet_ids":null,"tags":null,"timeouts":null,"value_specs":null},"sensitive_values":{"all_tags":[]}},{"address":"openstack_networking_secgroup_rule_v2.k8s_internal_ingress_all","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"k8s_internal_ingress_all","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":null,"direction":"ingress","ethertype":"IPv4","timeouts":null},"sensitive_values":{}},{"address":"openstack_networking_secgroup_rule_v2.kube_api_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"kube_api_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":6443,"port_range_min":6443,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"sensitive_values":{}},{"address":"openstack_networking_secgroup_rule_v2.nodeport_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"nodeport_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":32767,"port_range_min":30000,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"sensitive_values":{}},{"address":"openstack_networking_secgroup_rule_v2.ssh_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"ssh_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":22,"port_range_min":22,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"sensitive_values":{}},{"address":"openstack_networking_secgroup_v2.k8s_security_group","mode":"managed","type":"openstack_networking_secgroup_v2","name":"k8s_security_group","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"delete_default_rules":null,"description":"Security group for Kubernetes cluster nodes (HAProxy, Control, Worker).","name":"k8s-cluster-sg","tags":null,"timeouts":null},"sensitive_values":{"all_tags":[]}},{"address":"tls_private_key.k8s_ssh_key","mode":"managed","type":"tls_private_key","name":"k8s_ssh_key","provider_name":"registry.opentofu.org/hashicorp/tls","schema_version":1,"values":{"algorithm":"ED25519","ecdsa_curve":"P224","rsa_bits":2048},"sensitive_values":{"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true}}]}},"resource_changes":[{"address":"local_file.private_key_pem","mode":"managed","type":"local_file","name":"private_key_pem","provider_name":"registry.opentofu.org/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content_base64":null,"directory_permission":"0777","file_permission":"0400","filename":"/root/.ssh/id_ed25519_k8s","sensitive_content":null,"source":null},"after_unknown":{"content":true,"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"content":true,"sensitive_content":true}}},{"address":"openstack_compute_floatingip_associate_v2.haproxy_fip_associate","mode":"managed","type":"openstack_compute_floatingip_associate_v2","name":"haproxy_fip_associate","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"fixed_ip":null,"timeouts":null,"wait_until_associated":null},"after_unknown":{"floating_ip":true,"id":true,"instance_id":true,"region":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_compute_instance_v2.control_plane[0]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":0,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control1","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.control_plane[1]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":1,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control2","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.control_plane[2]","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","index":2,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"control3","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.haproxy_server","mode":"managed","type":"openstack_compute_instance_v2","name":"haproxy_server","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"774c9136-d522-4466-8097-a907dd4b50a8","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"haproxy","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.worker_node[0]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":0,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker1","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.worker_node[1]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":1,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker2","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.worker_node[2]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":2,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker3","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.worker_node[3]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":3,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker4","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_instance_v2.worker_node[4]","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","index":4,"provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"admin_pass":null,"availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","floating_ip":null,"force_delete":false,"image_name":"lab-rocky-9","key_pair":"k8s-keypair","metadata":null,"name":"worker5","network":[{"access_network":false,"name":"net-infra"}],"network_mode":null,"personality":[],"power_state":"active","scheduler_hints":[],"security_groups":["k8s-cluster-sg"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":null,"vendor_options":[],"volume":[]},"after_unknown":{"access_ip_v4":true,"access_ip_v6":true,"all_metadata":true,"all_tags":true,"availability_zone":true,"block_device":[],"created":true,"flavor_name":true,"id":true,"image_id":true,"network":[{"fixed_ip_v4":true,"fixed_ip_v6":true,"floating_ip":true,"mac":true,"port":true,"uuid":true}],"personality":[],"region":true,"scheduler_hints":[],"security_groups":[false],"updated":true,"vendor_options":[],"volume":[]},"before_sensitive":false,"after_sensitive":{"admin_pass":true,"all_metadata":{},"all_tags":[],"block_device":[],"network":[{}],"personality":[],"scheduler_hints":[],"security_groups":[false],"vendor_options":[],"volume":[]}}},{"address":"openstack_compute_keypair_v2.k8s_keypair","mode":"managed","type":"openstack_compute_keypair_v2","name":"k8s_keypair","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"name":"k8s-keypair","value_specs":null},"after_unknown":{"fingerprint":true,"id":true,"private_key":true,"public_key":true,"region":true,"user_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_networking_floatingip_v2.haproxy_fip","mode":"managed","type":"openstack_networking_floatingip_v2","name":"haproxy_fip","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"description":null,"pool":"net-external","subnet_ids":null,"tags":null,"timeouts":null,"value_specs":null},"after_unknown":{"address":true,"all_tags":true,"dns_domain":true,"dns_name":true,"fixed_ip":true,"id":true,"port_id":true,"region":true,"subnet_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{"all_tags":[]}}},{"address":"openstack_networking_secgroup_rule_v2.k8s_internal_ingress_all","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"k8s_internal_ingress_all","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"description":null,"direction":"ingress","ethertype":"IPv4","timeouts":null},"after_unknown":{"id":true,"port_range_max":true,"port_range_min":true,"protocol":true,"region":true,"remote_group_id":true,"remote_ip_prefix":true,"security_group_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_networking_secgroup_rule_v2.kube_api_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"kube_api_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":6443,"port_range_min":6443,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"after_unknown":{"id":true,"region":true,"remote_group_id":true,"security_group_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_networking_secgroup_rule_v2.nodeport_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"nodeport_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":32767,"port_range_min":30000,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"after_unknown":{"id":true,"region":true,"remote_group_id":true,"security_group_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_networking_secgroup_rule_v2.ssh_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"ssh_ingress","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"description":null,"direction":"ingress","ethertype":"IPv4","port_range_max":22,"port_range_min":22,"protocol":"tcp","remote_ip_prefix":"0.0.0.0/0","timeouts":null},"after_unknown":{"id":true,"region":true,"remote_group_id":true,"security_group_id":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"openstack_networking_secgroup_v2.k8s_security_group","mode":"managed","type":"openstack_networking_secgroup_v2","name":"k8s_security_group","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","change":{"actions":["create"],"before":null,"after":{"delete_default_rules":null,"description":"Security group for Kubernetes cluster nodes (HAProxy, Control, Worker).","name":"k8s-cluster-sg","tags":null,"timeouts":null},"after_unknown":{"all_tags":true,"id":true,"region":true,"tenant_id":true},"before_sensitive":false,"after_sensitive":{"all_tags":[]}}},{"address":"tls_private_key.k8s_ssh_key","mode":"managed","type":"tls_private_key","name":"k8s_ssh_key","provider_name":"registry.opentofu.org/hashicorp/tls","change":{"actions":["create"],"before":null,"after":{"algorithm":"ED25519","ecdsa_curve":"P224","rsa_bits":2048},"after_unknown":{"id":true,"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true,"public_key_fingerprint_md5":true,"public_key_fingerprint_sha256":true,"public_key_openssh":true,"public_key_pem":true},"before_sensitive":false,"after_sensitive":{"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true}}}],"output_changes":{"all_nodes_ips":{"actions":["create"],"before":null,"after":[null,null,null,null,null,null,null,null],"after_unknown":[true,true,true,true,true,true,true,true],"before_sensitive":false,"after_sensitive":false},"control_plane_ips":{"actions":["create"],"before":null,"after":[null,null,null],"after_unknown":[true,true,true],"before_sensitive":false,"after_sensitive":false},"haproxy_internal_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"kube_api_endpoint":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"worker_node_ips":{"actions":["create"],"before":null,"after":[null,null,null,null,null],"after_unknown":[true,true,true,true,true],"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.10.7","values":{"root_module":{"resources":[{"address":"data.openstack_compute_flavor_v2.haproxy_flavor","mode":"data","type":"openstack_compute_flavor_v2","name":"haproxy_flavor","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":"","disk":40,"extra_specs":{"hw:cpu_feature":"vmx","hw:cpu_policy":"shared"},"flavor_id":"774c9136-d522-4466-8097-a907dd4b50a8","id":"774c9136-d522-4466-8097-a907dd4b50a8","is_public":true,"min_disk":null,"min_ram":null,"name":"m1.medium","ram":4096,"region":null,"rx_tx_factor":1,"swap":0,"vcpus":2},"sensitive_values":{"extra_specs":{}}},{"address":"data.openstack_compute_flavor_v2.k8s_node_flavor","mode":"data","type":"openstack_compute_flavor_v2","name":"k8s_node_flavor","provider_name":"registry.opentofu.org/terraform-provider-openstack/openstack","schema_version":0,"values":{"description":"","disk":40,"extra_specs":{},"flavor_id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","id":"ee1b3749-219e-4665-afb3-6d25b00d2d97","is_public":true,"min_disk":null,"min_ram":null,"name":"t1.kubernetes","ram":8192,"region":null,"rx_tx_factor":1,"swap":0,"vcpus":4},"sensitive_values":{"extra_specs":{}}}]}}},"configuration":{"provider_config":{"local":{"name":"local","full_name":"registry.opentofu.org/hashicorp/local","version_constraint":"~\u003e 2.4.0"},"openstack":{"name":"openstack","full_name":"registry.opentofu.org/terraform-provider-openstack/openstack","version_constraint":"~\u003e 1.50.0","expressions":{"insecure":{"constant_value":true}}},"tls":{"name":"tls","full_name":"registry.opentofu.org/hashicorp/tls","version_constraint":"~\u003e 4.0.0"}},"root_module":{"outputs":{"all_nodes_ips":{"expression":{"references":["openstack_compute_instance_v2.control_plane","openstack_compute_instance_v2.worker_node"]},"description":"모든 K8s 노드들의 내부 IP 주소 목록"},"control_plane_ips":{"expression":{"references":["openstack_compute_instance_v2.control_plane"]},"description":"컨트롤 노드들의 내부 IP 주소 목록"},"haproxy_internal_ip":{"expression":{"references":["openstack_compute_instance_v2.haproxy_server.network[0].fixed_ip_v4","openstack_compute_instance_v2.haproxy_server.network[0]","openstack_compute_instance_v2.haproxy_server.network","openstack_compute_instance_v2.haproxy_server"]},"description":"HAProxy Server의 내부(Fixed) IP 주소"},"kube_api_endpoint":{"expression":{"references":["openstack_networking_floatingip_v2.haproxy_fip.address","openstack_networking_floatingip_v2.haproxy_fip"]},"description":"Kubernetes API Server 접속용 Floating IP"},"worker_node_ips":{"expression":{"references":["openstack_compute_instance_v2.worker_node"]},"description":"워커 노드들의 내부 IP 주소 목록"}},"resources":[{"address":"local_file.private_key_pem","mode":"managed","type":"local_file","name":"private_key_pem","provider_config_key":"local","expressions":{"content":{"references":["tls_private_key.k8s_ssh_key.private_key_pem","tls_private_key.k8s_ssh_key"]},"file_permission":{"constant_value":"0400"},"filename":{"constant_value":"/root/.ssh/id_ed25519_k8s"}},"schema_version":0},{"address":"openstack_compute_floatingip_associate_v2.haproxy_fip_associate","mode":"managed","type":"openstack_compute_floatingip_associate_v2","name":"haproxy_fip_associate","provider_config_key":"openstack","expressions":{"floating_ip":{"references":["openstack_networking_floatingip_v2.haproxy_fip.address","openstack_networking_floatingip_v2.haproxy_fip"]},"instance_id":{"references":["openstack_compute_instance_v2.haproxy_server.id","openstack_compute_instance_v2.haproxy_server"]}},"schema_version":0},{"address":"openstack_compute_instance_v2.control_plane","mode":"managed","type":"openstack_compute_instance_v2","name":"control_plane","provider_config_key":"openstack","expressions":{"flavor_id":{"references":["data.openstack_compute_flavor_v2.k8s_node_flavor.id","data.openstack_compute_flavor_v2.k8s_node_flavor"]},"image_name":{"references":["var.image_name"]},"key_pair":{"references":["openstack_compute_keypair_v2.k8s_keypair.name","openstack_compute_keypair_v2.k8s_keypair"]},"name":{"references":["count.index"]},"network":[{"name":{"references":["var.network_name"]}}],"security_groups":{"references":["openstack_networking_secgroup_v2.k8s_security_group.name","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0,"count_expression":{"constant_value":3}},{"address":"openstack_compute_instance_v2.haproxy_server","mode":"managed","type":"openstack_compute_instance_v2","name":"haproxy_server","provider_config_key":"openstack","expressions":{"flavor_id":{"references":["data.openstack_compute_flavor_v2.haproxy_flavor.id","data.openstack_compute_flavor_v2.haproxy_flavor"]},"image_name":{"references":["var.image_name"]},"key_pair":{"references":["openstack_compute_keypair_v2.k8s_keypair.name","openstack_compute_keypair_v2.k8s_keypair"]},"name":{"constant_value":"haproxy"},"network":[{"name":{"references":["var.network_name"]}}],"security_groups":{"references":["openstack_networking_secgroup_v2.k8s_security_group.name","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0},{"address":"openstack_compute_instance_v2.worker_node","mode":"managed","type":"openstack_compute_instance_v2","name":"worker_node","provider_config_key":"openstack","expressions":{"flavor_id":{"references":["data.openstack_compute_flavor_v2.k8s_node_flavor.id","data.openstack_compute_flavor_v2.k8s_node_flavor"]},"image_name":{"references":["var.image_name"]},"key_pair":{"references":["openstack_compute_keypair_v2.k8s_keypair.name","openstack_compute_keypair_v2.k8s_keypair"]},"name":{"references":["count.index"]},"network":[{"name":{"references":["var.network_name"]}}],"security_groups":{"references":["openstack_networking_secgroup_v2.k8s_security_group.name","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0,"count_expression":{"constant_value":5}},{"address":"openstack_compute_keypair_v2.k8s_keypair","mode":"managed","type":"openstack_compute_keypair_v2","name":"k8s_keypair","provider_config_key":"openstack","expressions":{"name":{"constant_value":"k8s-keypair"},"public_key":{"references":["tls_private_key.k8s_ssh_key.public_key_openssh","tls_private_key.k8s_ssh_key"]}},"schema_version":0},{"address":"openstack_networking_floatingip_v2.haproxy_fip","mode":"managed","type":"openstack_networking_floatingip_v2","name":"haproxy_fip","provider_config_key":"openstack","expressions":{"pool":{"references":["var.floating_ip_pool_name"]}},"schema_version":0},{"address":"openstack_networking_secgroup_rule_v2.k8s_internal_ingress_all","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"k8s_internal_ingress_all","provider_config_key":"openstack","expressions":{"direction":{"constant_value":"ingress"},"ethertype":{"constant_value":"IPv4"},"protocol":{"constant_value":""},"remote_group_id":{"references":["openstack_networking_secgroup_v2.k8s_security_group.id","openstack_networking_secgroup_v2.k8s_security_group"]},"security_group_id":{"references":["openstack_networking_secgroup_v2.k8s_security_group.id","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0},{"address":"openstack_networking_secgroup_rule_v2.kube_api_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"kube_api_ingress","provider_config_key":"openstack","expressions":{"direction":{"constant_value":"ingress"},"ethertype":{"constant_value":"IPv4"},"port_range_max":{"constant_value":6443},"port_range_min":{"constant_value":6443},"protocol":{"constant_value":"tcp"},"remote_ip_prefix":{"constant_value":"0.0.0.0/0"},"security_group_id":{"references":["openstack_networking_secgroup_v2.k8s_security_group.id","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0},{"address":"openstack_networking_secgroup_rule_v2.nodeport_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"nodeport_ingress","provider_config_key":"openstack","expressions":{"direction":{"constant_value":"ingress"},"ethertype":{"constant_value":"IPv4"},"port_range_max":{"constant_value":32767},"port_range_min":{"constant_value":30000},"protocol":{"constant_value":"tcp"},"remote_ip_prefix":{"constant_value":"0.0.0.0/0"},"security_group_id":{"references":["openstack_networking_secgroup_v2.k8s_security_group.id","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0},{"address":"openstack_networking_secgroup_rule_v2.ssh_ingress","mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"ssh_ingress","provider_config_key":"openstack","expressions":{"direction":{"constant_value":"ingress"},"ethertype":{"constant_value":"IPv4"},"port_range_max":{"constant_value":22},"port_range_min":{"constant_value":22},"protocol":{"constant_value":"tcp"},"remote_ip_prefix":{"constant_value":"0.0.0.0/0"},"security_group_id":{"references":["openstack_networking_secgroup_v2.k8s_security_group.id","openstack_networking_secgroup_v2.k8s_security_group"]}},"schema_version":0},{"address":"openstack_networking_secgroup_v2.k8s_security_group","mode":"managed","type":"openstack_networking_secgroup_v2","name":"k8s_security_group","provider_config_key":"openstack","expressions":{"description":{"constant_value":"Security group for Kubernetes cluster nodes (HAProxy, Control, Worker)."},"name":{"constant_value":"k8s-cluster-sg"}},"schema_version":0},{"address":"tls_private_key.k8s_ssh_key","mode":"managed","type":"tls_private_key","name":"k8s_ssh_key","provider_config_key":"tls","expressions":{"algorithm":{"constant_value":"ED25519"}},"schema_version":1},{"address":"data.openstack_compute_flavor_v2.haproxy_flavor","mode":"data","type":"openstack_compute_flavor_v2","name":"haproxy_flavor","provider_config_key":"openstack","expressions":{"name":{"constant_value":"m1.medium"}},"schema_version":0},{"address":"data.openstack_compute_flavor_v2.k8s_node_flavor","mode":"data","type":"openstack_compute_flavor_v2","name":"k8s_node_flavor","provider_config_key":"openstack","expressions":{"name":{"constant_value":"t1.kubernetes"}},"schema_version":0}],"variables":{"floating_ip_pool_name":{"default":"net-external","description":"플로팅 IP를 할당받을 외부망 (HAProxy한테)"},"image_name":{"default":"lab-rocky-9","description":"VM 생성 OS 이미지 이름"},"key_pair_name":{"default":"k8s-keypair","description":"VM들 접속에 사용될 SSH 키 페어 이름"},"network_name":{"default":"net-infra","description":"VM 네트워크 이름"}}}},"relevant_attributes":[{"resource":"data.openstack_compute_flavor_v2.haproxy_flavor","attribute":["id"]},{"resource":"data.openstack_compute_flavor_v2.k8s_node_flavor","attribute":["id"]},{"resource":"openstack_compute_instance_v2.control_plane","attribute":[]},{"resource":"openstack_compute_instance_v2.haproxy_server","attribute":["id"]},{"resource":"openstack_compute_instance_v2.haproxy_server","attribute":["network",0,"fixed_ip_v4"]},{"resource":"openstack_compute_instance_v2.worker_node","attribute":[]},{"resource":"openstack_compute_keypair_v2.k8s_keypair","attribute":["name"]},{"resource":"openstack_networking_floatingip_v2.haproxy_fip","attribute":["address"]},{"resource":"openstack_networking_secgroup_v2.k8s_security_group","attribute":["id"]},{"resource":"openstack_networking_secgroup_v2.k8s_security_group","attribute":["name"]},{"resource":"tls_private_key.k8s_ssh_key","attribute":["private_key_pem"]},{"resource":"tls_private_key.k8s_ssh_key","attribute":["public_key_openssh"]}],"timestamp":"2025-11-09T13:19:18Z","errored":false}
